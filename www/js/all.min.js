(function(){angular.module("app.controllers",["app.services"]).controller("AppController",["$scope","$sce","$timeout","$window","$q","HackerNews",function(e,t,r,o,n,l){return e.section="top",e.gotoStory=function(r){return e.currentStory=r,e.storyUrl=t.trustAsResourceUrl(r.url),e.navi.pushPage("story.html")},e.loadUrl=function(e){return o.open(e,"_system")},e.getStory=function(e){var t,o;return t=n.defer(),o=r(t.resolve,1e3),l.child("item/"+e).once("value",function(e){var n;return n=e.val(),n&&"story"===n.type&&!n.deleted&&n.url?(r.cancel(o),t.resolve(n)):(r.cancel(o),t.resolve())}),t.promise}}]).controller("TopController",["$scope","$q","HackerNews",function(e,t,r){return e.stories=[],e.getTopStories=function(){return r.child("topstories").limitToFirst(20).once("value",function(r){var o,n,l,i,s;for(n=r.val(),console.log(n),l=[],i=0,s=n.length;s>i;i++)o=n[i],l.push(e.getStory(o));return t.all(l).then(function(t){return t=t.filter(function(e){return"undefined"!=typeof e}),t.length>0?e.stories=t:void 0})})},r.child("topstories").on("value",e.getTopStories)}]).controller("LatestController",["$scope","$q","HackerNews",function(e,t,r){return e.stories=[],e.getLatestStories=function(){return r.child("maxitem").once("value",function(r){var o,n,l,i,s;for(n=r.val(),console.log(n),l=[],o=i=n,s=n-100;s>=n?s>i:i>s;o=s>=n?++i:--i)l.push(e.getStory(o));return t.all(l).then(function(t){return t=t.filter(function(e){return"undefined"!=typeof e}),t.length>0?e.stories=t:void 0})})},r.child("maxitem").on("value",e.getLatestStories)}])}).call(this);
(function(){angular.module("app.services",[]).factory("HackerNews",function(){var e;return e=new Firebase("https://hacker-news.firebaseio.com/v0")})}).call(this);
(function(){angular.module("app",["onsen","app.controllers","app.services"]).filter("urlToHost",function(){return function(n){var t,e;return t=n.replace(/^http(s)?:\/\//,""),t=t.split("/")[0],e=t.split("."),e.slice(e.length-2,e.length).join(".")}}).filter("timeAgo",function(){return function(n){var t,e,o,r,a,u,s,i;return t=(new Date).getTime(),i=1e3*parseInt(n),a=6e4,r=60*a,o=24*r,u=30*o,s=365*o,e=t-i,a>e?Math.round(e/1e3)+" seconds ago":r>e?Math.round(e/a)+" minutes ago":o>e?Math.round(e/r)+" hours ago":u>e?Math.round(e/o)+" days ago":s>e?Math.round(e/u)+" months ago":Math.round(e/s)+" years ago"}})}).call(this);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnRyb2xsZXJzLmNvZmZlZSIsImNvbnRyb2xsZXJzLmpzIiwic2VydmljZXMuY29mZmVlIiwic2VydmljZXMuanMiLCJhcHAuY29mZmVlIiwiYXBwLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJjb250cm9sbGVyIiwiJHNjb3BlIiwiJHNjZSIsIiR0aW1lb3V0IiwiJHdpbmRvdyIsIiRxIiwiSGFja2VyTmV3cyIsInNlY3Rpb24iLCJnb3RvU3RvcnkiLCJzdG9yeSIsImN1cnJlbnRTdG9yeSIsInN0b3J5VXJsIiwidHJ1c3RBc1Jlc291cmNlVXJsIiwidXJsIiwibmF2aSIsInB1c2hQYWdlIiwibG9hZFVybCIsIm9wZW4iLCJnZXRTdG9yeSIsImlkIiwiZGVmZXJyZWQiLCJ0aW1lciIsImRlZmVyIiwicmVzb2x2ZSIsImNoaWxkIiwib25jZSIsImRhdGEiLCJpdGVtIiwidmFsIiwidHlwZSIsImRlbGV0ZWQiLCJjYW5jZWwiLCJwcm9taXNlIiwic3RvcmllcyIsImdldFRvcFN0b3JpZXMiLCJsaW1pdFRvRmlyc3QiLCJpZHMiLCJwcm9taXNlcyIsIl9pIiwiX2xlbiIsImNvbnNvbGUiLCJsb2ciLCJsZW5ndGgiLCJwdXNoIiwiYWxsIiwidGhlbiIsImZpbHRlciIsIm9uIiwiZ2V0TGF0ZXN0U3RvcmllcyIsIm1heElkIiwiX3JlZiIsImNhbGwiLCJ0aGlzIiwiZmFjdG9yeSIsImZiIiwiRmlyZWJhc2UiLCJ2YWx1ZSIsImhvc3RuYW1lIiwicGFydHMiLCJyZXBsYWNlIiwic3BsaXQiLCJzbGljZSIsImpvaW4iLCJjdXJyZW50IiwiZWxhcHNlZCIsIm1zUGVyRGF5IiwibXNQZXJIb3VyIiwibXNQZXJNaW51dGUiLCJtc1Blck1vbnRoIiwibXNQZXJZZWFyIiwicHJldmlvdXMiLCJEYXRlIiwiZ2V0VGltZSIsInBhcnNlSW50IiwiTWF0aCIsInJvdW5kIl0sIm1hcHBpbmdzIjoiQ0FBQSxXQUFBQSxRQUNHQyxPQUFPLG1CQUFvQixpQkFF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aUJBRWxEK0MsT0FBTyxZQUFhLFdDQWpCLE1EQ0YsVUFBQ1UsR0FDQyxHQUFBQyxHQUFBQyxDQ0dFLE9ESEZELEdBQVdELEVBQU1HLFFBQVEsaUJBQWtCLElBQzNDRixFQUFZQSxFQUFTRyxNQUFNLEtBQUssR0FFaENGLEVBQVFELEVBQVNHLE1BQU0sS0FFdkJGLEVBQ0dHLE1BQU1ILEVBQU1oQixPQUFTLEVBQUdnQixFQUFNaEIsUUFDOUJvQixLQUFLLFFBRVhoQixPQUFPLFVBQVcsV0NIZixNRElGLFVBQUNVLEdBRUMsR0FBQU8sR0FBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsQ0FXQSxPQVhBUCxJQUFVLEdBQUNRLE9BQVVDLFVBQ3JCRixFQUFXLElBQVFHLFNBQVNqQixHQUU1QlcsRUFBYyxJQUNkRCxFQUEwQixHQUFkQyxFQUNaRixFQUF1QixHQUFaQyxFQUNYRSxFQUF3QixHQUFYSCxFQUNiSSxFQUF1QixJQUFYSixFQUVaRCxFQUFVRCxFQUFVTyxFQUVQSCxFQUFWSCxFQUNNVSxLQUFLQyxNQUFNWCxFQUFRLEtBQVEsZUFDbEJFLEVBQVZGLEVBQ0NVLEtBQUtDLE1BQU1YLEVBQVFHLEdBQWUsZUFDekJGLEVBQVZELEVBQ0NVLEtBQUtDLE1BQU1YLEVBQVFFLEdBQWMsYUFDeEJFLEVBQVZKLEVBQ0NVLEtBQUtDLE1BQU1YLEVBQVFDLEdBQVksWUFDdEJJLEVBQVZMLEVBQ0NVLEtBQUtDLE1BQU1YLEVBQVFJLEdBQWMsY0FFakNNLEtBQUtDLE1BQU1YLEVBQVFLLEdBQWMsa0JDRjNDbEIsS0FBS0MiLCJmaWxlIjoiYWxsLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXJcbiAgLm1vZHVsZSAnYXBwLmNvbnRyb2xsZXJzJywgWydhcHAuc2VydmljZXMnXVxuXG4gIC5jb250cm9sbGVyICdBcHBDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJHNjZScsICckdGltZW91dCcsICckd2luZG93JywgJyRxJywgJ0hhY2tlck5ld3MnLCAoJHNjb3BlLCAkc2NlLCAkdGltZW91dCwgJHdpbmRvdywgJHEsIEhhY2tlck5ld3MpIC0+XG5cbiAgICAjIFNob3cgdGhlICdUb3Agc3Rvcmllcycgc2VjdGlvbiBhdCBzdGFydHVwLlxuICAgICRzY29wZS5zZWN0aW9uID0gJ3RvcCdcblxuICAgICMgTmF2aWdhdGUgdG8gc3Rvcnkgdmlldy5cbiAgICAkc2NvcGUuZ290b1N0b3J5ID0gKHN0b3J5KSAtPlxuICAgICAgJHNjb3BlLmN1cnJlbnRTdG9yeSA9IHN0b3J5XG4gICAgICAkc2NvcGUuc3RvcnlVcmwgPSAkc2NlLnRydXN0QXNSZXNvdXJjZVVybCBzdG9yeS51cmxcbiAgICAgICRzY29wZS5uYXZpLnB1c2hQYWdlICdzdG9yeS5odG1sJ1xuXG4gICAgIyBPcGVuIHRoZSBVUkwgaW4gYSBkZWRpY2F0ZWQgd2VidmlldyBpbnN0ZWFkIG9mIGFuIGlmcmFtZS4gXG4gICAgIyBTb21lIGFydGljbGVzIGNhbid0IGJlIGRpc3BsYXllZCBpbiBpZnJhbWVzLlxuICAgICRzY29wZS5sb2FkVXJsID0gKHVybCkgLT5cbiAgICAgICR3aW5kb3cub3BlbiB1cmwsICdfc3lzdGVtJ1xuXG4gICAgIyBGZXRjaCBhIHN0b3J5IGZyb20gQVBJLiBSZXNvbHZlcyB0byAndW5kZWZpbmVkJyBpZiB0aGVyZVxuICAgICMgaWYgdGhlIGl0ZW0gaXNuJ3QgYSBzdG9yeSBvciBpZiBpdCBkb2Vzbid0IGV4aXN0LlxuICAgICRzY29wZS5nZXRTdG9yeSA9IChpZCkgLT5cbiAgICAgIGRlZmVycmVkID0gJHEuZGVmZXIoKVxuICAgICAgdGltZXIgPSAkdGltZW91dCBkZWZlcnJlZC5yZXNvbHZlLCAxMDAwXG5cbiAgICAgIEhhY2tlck5ld3NcbiAgICAgICAgLmNoaWxkIFwiaXRlbS8je2lkfVwiXG4gICAgICAgIC5vbmNlICd2YWx1ZScsIChkYXRhKSAtPlxuICAgICAgICAgIGl0ZW0gPSBkYXRhLnZhbCgpXG5cbiAgICAgICAgICBpZiBpdGVtICYmIGl0ZW0udHlwZSA9PSAnc3RvcnknICYmICFpdGVtLmRlbGV0ZWQgJiYgaXRlbS51cmxcbiAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbCB0aW1lclxuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSBpdGVtXG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsIHRpbWVyXG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKClcblxuICAgICAgZGVmZXJyZWQucHJvbWlzZVxuICBdXG5cbiAgLmNvbnRyb2xsZXIgJ1RvcENvbnRyb2xsZXInLCBbJyRzY29wZScsICckcScsICdIYWNrZXJOZXdzJywgKCRzY29wZSwgJHEsIEhhY2tlck5ld3MpIC0+XG4gICAgJHNjb3BlLnN0b3JpZXMgPSBbXVxuXG4gICAgJHNjb3BlLmdldFRvcFN0b3JpZXMgPSAtPlxuICAgICAgSGFja2VyTmV3c1xuICAgICAgICAuY2hpbGQgJ3RvcHN0b3JpZXMnXG4gICAgICAgIC5saW1pdFRvRmlyc3QgMjBcbiAgICAgICAgLm9uY2UgJ3ZhbHVlJywgKGRhdGEpIC0+XG4gICAgICAgICAgaWRzID0gZGF0YS52YWwoKVxuICAgICAgICAgIGNvbnNvbGUubG9nIGlkc1xuXG4gICAgICAgICAgcHJvbWlzZXMgPSBbXVxuICAgICAgICAgIGZvciBpZCBpbiBpZHNcbiAgICAgICAgICAgIHByb21pc2VzLnB1c2ggJHNjb3BlLmdldFN0b3J5KGlkKVxuXG4gICAgICAgICAgJHEuYWxsKHByb21pc2VzKS50aGVuIChzdG9yaWVzKSAtPlxuICAgICAgICAgICAgc3RvcmllcyA9IHN0b3JpZXMuZmlsdGVyIChzdG9yeSkgLT5cbiAgICAgICAgICAgICAgdHlwZW9mIHN0b3J5ICE9ICd1bmRlZmluZWQnXG4gICAgICAgICAgICBpZiBzdG9yaWVzLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICAgJHNjb3BlLnN0b3JpZXMgPSBzdG9yaWVzXG5cbiAgICAjIFJlbG9hZCB0b3Agc3RvcmllcyBldmVyeSB0aW1lIHRoZXkgYXJlIGNoYW5nZWQuXG4gICAgSGFja2VyTmV3c1xuICAgICAgLmNoaWxkICd0b3BzdG9yaWVzJ1xuICAgICAgLm9uICd2YWx1ZScsICRzY29wZS5nZXRUb3BTdG9yaWVzXG4gIF1cblxuICAuY29udHJvbGxlciAnTGF0ZXN0Q29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRxJywgJ0hhY2tlck5ld3MnLCAoJHNjb3BlLCAkcSwgSGFja2VyTmV3cykgLT5cbiAgICAkc2NvcGUuc3RvcmllcyA9IFtdXG4gXG4gICAgJHNjb3BlLmdldExhdGVzdFN0b3JpZXMgPSAtPlxuICAgICAgSGFja2VyTmV3c1xuICAgICAgICAuY2hpbGQgJ21heGl0ZW0nXG4gICAgICAgIC5vbmNlICd2YWx1ZScsIChkYXRhKSAtPlxuICAgICAgICAgIG1heElkID0gZGF0YS52YWwoKVxuICAgICAgICAgIGNvbnNvbGUubG9nIG1heElkXG5cbiAgICAgICAgICBwcm9taXNlcyA9IFtdXG4gICAgICAgICAgZm9yIGlkIGluIFttYXhJZC4uLm1heElkIC0gMTAwXVxuICAgICAgICAgICAgcHJvbWlzZXMucHVzaCAkc2NvcGUuZ2V0U3RvcnkoaWQpXG5cbiAgICAgICAgICAkcS5hbGwocHJvbWlzZXMpLnRoZW4gKHN0b3JpZXMpIC0+XG4gICAgICAgICAgICBzdG9yaWVzID0gc3Rvcmllcy5maWx0ZXIgKHN0b3J5KSAtPlxuICAgICAgICAgICAgICB0eXBlb2Ygc3RvcnkgIT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgICAgIGlmIHN0b3JpZXMubGVuZ3RoID4gMFxuICAgICAgICAgICAgICAkc2NvcGUuc3RvcmllcyA9IHN0b3JpZXNcbiAgICBcbiAgICAjIFJlbG9hZCByZWNlbnQgc3RvcmllcyBpZiBhIG5ldyBpdGVtIGlzIGFkZGVkIHRvIEhhY2tlciBOZXdzLlxuICAgIEhhY2tlck5ld3NcbiAgICAgIC5jaGlsZCAnbWF4aXRlbSdcbiAgICAgIC5vbiAndmFsdWUnLCAkc2NvcGUuZ2V0TGF0ZXN0U3Rvcmllc1xuXG4gIF1cbiIsbnVsbCwiYW5ndWxhci5tb2R1bGUgJ2FwcC5zZXJ2aWNlcycsIFtdXG4gIC5mYWN0b3J5ICdIYWNrZXJOZXdzJywgLT5cbiAgICBmYiA9IG5ldyBGaXJlYmFzZSAnaHR0cHM6Ly9oYWNrZXItbmV3cy5maXJlYmFzZWlvLmNvbS92MCdcblxuICAgIHJldHVybiBmYlxuIixudWxsLCJhbmd1bGFyLm1vZHVsZSAnYXBwJywgWydvbnNlbicsICdhcHAuY29udHJvbGxlcnMnLCAnYXBwLnNlcnZpY2VzJ11cblxuLmZpbHRlciAndXJsVG9Ib3N0JywgLT5cbiAgKHZhbHVlKSAtPlxuICAgIGhvc3RuYW1lID0gdmFsdWUucmVwbGFjZSAvXmh0dHAocyk/OlxcL1xcLy8sICcnXG4gICAgaG9zdG5hbWUgPSAoaG9zdG5hbWUuc3BsaXQgJy8nKVswXVxuXG4gICAgcGFydHMgPSBob3N0bmFtZS5zcGxpdCAnLidcblxuICAgIHBhcnRzXG4gICAgICAuc2xpY2UgcGFydHMubGVuZ3RoIC0gMiwgcGFydHMubGVuZ3RoXG4gICAgICAuam9pbiAnLidcblxuLmZpbHRlciAndGltZUFnbycsIC0+XG4gICh2YWx1ZSkgLT5cblxuICAgIGN1cnJlbnQgPSAobmV3IERhdGUpLmdldFRpbWUoKVxuICAgIHByZXZpb3VzID0gMTAwMCAqIChwYXJzZUludCB2YWx1ZSlcblxuICAgIG1zUGVyTWludXRlID0gNjAgKiAxMDAwXG4gICAgbXNQZXJIb3VyID0gbXNQZXJNaW51dGUgKiA2MFxuICAgIG1zUGVyRGF5ID0gbXNQZXJIb3VyICogMjRcbiAgICBtc1Blck1vbnRoID0gbXNQZXJEYXkgKiAzMFxuICAgIG1zUGVyWWVhciA9IG1zUGVyRGF5ICogMzY1XG5cbiAgICBlbGFwc2VkID0gY3VycmVudCAtIHByZXZpb3VzXG4gXG4gICAgaWYgZWxhcHNlZCA8IG1zUGVyTWludXRlXG4gICAgICByZXR1cm4gTWF0aC5yb3VuZChlbGFwc2VkLzEwMDApICsgJyBzZWNvbmRzIGFnbydcbiAgICBlbHNlIGlmIGVsYXBzZWQgPCBtc1BlckhvdXJcbiAgICAgIHJldHVybiBNYXRoLnJvdW5kKGVsYXBzZWQvbXNQZXJNaW51dGUpICsgJyBtaW51dGVzIGFnbydcbiAgICBlbHNlIGlmIGVsYXBzZWQgPCBtc1BlckRheVxuICAgICAgcmV0dXJuIE1hdGgucm91bmQoZWxhcHNlZC9tc1BlckhvdXIgKSArICcgaG91cnMgYWdvJ1xuICAgIGVsc2UgaWYgZWxhcHNlZCA8IG1zUGVyTW9udGhcbiAgICAgIHJldHVybiBNYXRoLnJvdW5kKGVsYXBzZWQvbXNQZXJEYXkpICsgJyBkYXlzIGFnbydcbiAgICBlbHNlIGlmIGVsYXBzZWQgPCBtc1BlclllYXJcbiAgICAgIHJldHVybiBNYXRoLnJvdW5kKGVsYXBzZWQvbXNQZXJNb250aCkgKyAnIG1vbnRocyBhZ28nXG4gICAgZWxzZVxuICAgICAgcmV0dXJuIE1hdGgucm91bmQoZWxhcHNlZC9tc1BlclllYXIgKSArICcgeWVhcnMgYWdvJ1xuIixudWxsXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=